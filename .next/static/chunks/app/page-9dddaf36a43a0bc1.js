(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4360:function(e,a,t){Promise.resolve().then(t.bind(t,8830))},8830:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var r=t(7437),i=t(29),c=t.n(i),n=t(2265),o=t(3464);let s="bd3f307329fd98279b6397499b21f598f9599be38461a0e1ad5758f569ff0bb57d34c384e112010101de6d6825a909302c692a550ff8f4dc2329b513c398e76a2bbe6f59ced96c3b9d2fb53c70a5b1a13a16db1833963444472385587eacb7379848ae56c57499b80ceebb454c4cc9ebb7c803c3685be6d59a135717c58db4bc";if(!s)throw Error("环境变量 NEXT_PUBLIC_STRAPI_API_TOKEN 未定义");let l=o.Z.create({baseURL:"https://luminous-memory-9dfa6c48ea.strapiapp.com/",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});async function d(){try{return(await l.get("/api/articles",{params:{populate:"author"}})).data.data}catch(a){var e;throw console.error("Error fetching articles:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),a}}async function f(){try{return(await l.get("/api/authors")).data.data}catch(a){var e;throw console.error("Error fetching authors:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),a}}var u=t(7648),b=t(4964),x=t(5005),h=t(1784),m=t(9185);let{Option:p}=b.default;function g(){let[e,a]=(0,n.useState)([]),[t,i]=(0,n.useState)([]),[o,s]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async function(){let e=await d(),t=await f();a(e),i(t)})()},[]),(0,n.useEffect)(()=>{o?(async()=>{let e=await d();console.log("current articles are: ",e),a(e.filter(e=>e.author.id===o))})():(async()=>{a(await d())})()},[o]),(0,r.jsxs)("div",{className:"jsx-8856084cad6f172c home-container",children:[(0,r.jsx)(h.Z,{justify:"center",gutter:[32,32],children:(0,r.jsxs)(m.Z,{span:32,children:[(0,r.jsx)(x.Z.Title,{level:5,style:{textAlign:"center"},children:"Select Author"}),(0,r.jsxs)(b.default,{placeholder:"Select author",value:o,onChange:e=>{s(e)},style:{width:"100%"},children:[(0,r.jsx)(p,{value:"",children:"All Authors"}),t.map(e=>(0,r.jsx)(p,{value:e.id,children:e.name},e.id))]})]})}),(0,r.jsx)(h.Z,{justify:"center",gutter:[32,32],children:(0,r.jsxs)(m.Z,{span:32,children:[(0,r.jsx)(x.Z.Title,{level:4,style:{marginTop:"20px",textAlign:"center"},children:"Articles List"}),(0,r.jsx)("ul",{className:"jsx-8856084cad6f172c article-list",children:e.map(e=>(0,r.jsx)("li",{className:"jsx-8856084cad6f172c article-item",children:(0,r.jsx)(u.default,{href:"/articles/".concat(e.slug),legacyBehavior:!0,children:(0,r.jsx)("a",{style:{display:"block",wordBreak:"break-word"},className:"jsx-8856084cad6f172c",children:e.title})})},e.id))})]})}),(0,r.jsx)(c(),{id:"8856084cad6f172c",children:".home-container.jsx-8856084cad6f172c{min-width:800px;max-width:1200px;margin:0 auto;padding:2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.article-list.jsx-8856084cad6f172c{list-style-type:none;padding:0}.article-item.jsx-8856084cad6f172c{min-width:480px;background-color:#f9f9f9;border:1px solid#ddd;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;margin-bottom:1rem;padding:1rem;width:100%;-webkit-transition:background-color.3s ease;-moz-transition:background-color.3s ease;-o-transition:background-color.3s ease;transition:background-color.3s ease}.article-item.jsx-8856084cad6f172c:hover{background-color:#f1f1f1}a.jsx-8856084cad6f172c{text-decoration:none;color:#007bff;font-size:1.2rem;word-wrap:break-word;display:block;width:100%}a.jsx-8856084cad6f172c:hover{text-decoration:underline}"})]})}}},function(e){e.O(0,[289,971,117,744],function(){return e(e.s=4360)}),_N_E=e.O()}]);